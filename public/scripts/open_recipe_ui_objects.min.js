function copy_prototype(c,d){var b=d.toString(),a=b.match(/\s*function (.*)\(/);if(a!==null){c.prototype[a[1]]=d}for(p in d.prototype){c.prototype[p]=d.prototype[p]}}function Quantity(a,b){this.amount=a;this.unit_id=b}function ActiveIngredient(b,a){this.ingredient=b;this.quantity=a}function Recipe(g,f,c,l,j,k,a,b,h,e,d){this.id=g;this.name=f;this.serves=c;this.cooking_time=l;this.prep_time=j;this.description=k;this.method=a;this.requirements=b;this.active_ingredients=h;this.tags=e;this.meal=d}Recipe.fromForm=function(a){};Recipe.prototype.toForm=function(a){};Recipe.populate=function(a,b){if(typeof a==="string"){return Recipe.populate_from_url(a,b,Recipe.populate_from_data)}return Recipe.populate_from_data(a)};Recipe.populate_from_data=function(e,c){var b=[],d,a;for(i in e.active_ingredients){d=e.active_ingredients[i].active_ingredient;b.push(new ActiveIngredient(d.name,new Quantity(d.quantity.amount,d.quantity.unit_id)))}a=new Recipe(e.id,e.name,e.serves,e.cooking_time,e.preparation_time,e.description,e.method,e.requirements,b,null,e.meal_id);a.toForm(c)};Recipe.populate_from_url=function(a,b,c){$.get(a,function(d){this.recipe=c(d.recipe,b)})};function Request_Base(){this.path=""}Request_Base.prototype.post_path=function(){return this.path};Request_Base.prototype.post_data=function(){return JSON.stringify(this,null,2)};function Recipe_Request(a){this.recipe=a;this.path="/recipe-request"}copy_prototype(Recipe_Request,Request_Base);function convert_to_options_html(b){var a="",c=0,d;for(i in b){d=b[i];if(d.kind=="option"){a+='<option value = "'+d.value+'">'+d.label+"</option>"}else{if(c>0){a+="</optgroup>";c--}a+='<optgroup label = "'+d.label+'">';c++}}if(c>0){a+="</optgroup>";c--}return a}function create_blank_ingredients_row(a){return"<tr><td><input class='ingredient ui-state-default ui-corner-all' id='ingredient"+a+"' name='ingredient"+a+"'></td><td><input class='amount ui-state-default ui-corner-all' id='amount"+a+"' name='ingredient"+a+"'></td><td><select class='unit-menu ui-state-default ui-corner-all' id='unit"+a+"' name='ingredient"+a+"'></select></td></tr>"};
